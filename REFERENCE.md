# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`googleauthenticator::pam::common`](#googleauthenticatorpamcommon): Common PAM requirements for googleauthenticator.
* [`googleauthenticator::sshd`](#googleauthenticatorsshd): Setup sshd to use Google-authenticator two-step verification.
* [`googleauthenticator::user::systemwide::common`](#googleauthenticatorusersystemwidecommon): Common class for googleauthenticator::user::systemwide

### Defined types

* [`googleauthenticator::pam`](#googleauthenticatorpam): Setup a PAM module to use Google-authenticator.
* [`googleauthenticator::pam::debian`](#googleauthenticatorpamdebian): Setup a PAM module for Google-authenticator on Debian/Ubuntu.
* [`googleauthenticator::pam::mode`](#googleauthenticatorpammode): Add a mode for googleauthenticator::pam. This adds a file in /etc/pam.d/ which can then be used by googleauthenticator::pam resources.
* [`googleauthenticator::pam::redhat`](#googleauthenticatorpamredhat): Setup a PAM module for Google-authenticator on RedHat/CentOS.
* [`googleauthenticator::user`](#googleauthenticatoruser): Setup Google-authenticator two-step verification for a user.
* [`googleauthenticator::user::systemwide`](#googleauthenticatorusersystemwide): Setup Google-authenticator two-step verification for a user, systemwide.

## Classes

### `googleauthenticator::pam::common`

Common PAM requirements for googleauthenticator.

### `googleauthenticator::sshd`

Setup sshd to use Google-authenticator two-step verification.

### `googleauthenticator::user::systemwide::common`

Common class for googleauthenticator::user::systemwide

## Defined types

### `googleauthenticator::pam`

Setup a PAM module to use Google-authenticator.

#### Examples

##### Secure the root account with Google authenticator

```puppet
googleauthenticator::pam {'su':
  mode => 'root-only',
}
```

#### Parameters

The following parameters are available in the `googleauthenticator::pam` defined type.

##### `name`

The name of the PAM module

##### `mode`

Data type: `Any`

Optionally, set the mode to use. 'root-only' or 'all-users' are supported right now.

Default value: `'all-users'`

##### `ensure`

Data type: `Any`

present/absent

Default value: `'present'`

### `googleauthenticator::pam::debian`

Setup a PAM module for Google-authenticator on Debian/Ubuntu.

#### Parameters

The following parameters are available in the `googleauthenticator::pam::debian` defined type.

##### `name`

The name of the PAM module

##### `mode`

Data type: `Any`

Set the mode to use. 'root-only' or 'all-users' are supported right now.

##### `ensure`

Data type: `Any`

present/absent

Default value: `'present'`

### `googleauthenticator::pam::mode`

Add a mode for googleauthenticator::pam. This adds a file in /etc/pam.d/ which can then be used by googleauthenticator::pam resources.

#### Examples

##### Enforce Google authenticator for all users with a UID > 1000

```puppet
googleauthenticator::pam::mode {'optional-users':
  # Users with a UID above 1000 don't need a token
  succeed_if => 'uid > 1000',
  # It's ok to not have a ~/.google_authenticator file
  nullok     => true,
}
```

#### Parameters

The following parameters are available in the `googleauthenticator::pam::mode` defined type.

##### `name`

The name of the PAM module

##### `ensure`

Data type: `Any`

present/absent.

Default value: `'present'`

##### `succeed_if`

Data type: `Any`

Optionally, add a condition where the module is ignored.

Default value: ``false``

##### `condition`

Data type: `Any`

Optionally, add a condition where the module is not ignored.

Default value: ``false``

##### `nullok`

Data type: `Any`

Make module optional (users without a ~/.google_authenticator file will still be able to log in.

Default value: ``false``

##### `secret`

Data type: `Any`

Optionally, specify the location of the secret file (you may use ${HOME}, ${USER} and ~)

Default value: ``false``

##### `noskewadj`

Data type: `Any`

Optionally, set the noskewadj option.

Default value: ``false``

##### `service`

Data type: `Any`

A service which should be notified.

Default value: `'ssh'`

### `googleauthenticator::pam::redhat`

Setup a PAM module for Google-authenticator on RedHat/CentOS.

#### Parameters

The following parameters are available in the `googleauthenticator::pam::redhat` defined type.

##### `name`

The name of the PAM module

##### `mode`

Data type: `Any`

Set the mode to use ('root-only', 'all-users' and 'systemwide-users' are supported right now).

##### `ensure`

Data type: `Any`

present/absent

Default value: `'present'`

### `googleauthenticator::user`

Setup Google-authenticator two-step verification for a user.

#### Examples

##### Setup Google authenticator for the 'root' user

```puppet
googleauthenticator::user {'root':
  secret_key    => 'C6SSDFBBH6P76EDM',
  scratch_codes => ['78905638', '14036415', '77983530',
                    '22071921', '19861182'],
}
```

#### Parameters

The following parameters are available in the `googleauthenticator::user` defined type.

##### `name`

The name of the user

##### `secret_key`

Data type: `Any`

The secret key for the TOTP verification.

##### `ensure`

Data type: `Any`

present/absent

Default value: `'present'`

##### `user`

Data type: `Any`

Optionally, force the user name. Otherwise, $name is used.

Default value: ``undef``

##### `group`

Data type: `Any`

Optionally, force the group name. Otherwise, $name is used.

Default value: ``undef``

##### `file`

Data type: `Any`

Optionally, force the configuration file. Otherwise, ~/.google_authenticator is used.

Default value: ``undef``

##### `rate_limit`

Data type: `Any`

Optionally, set rate limit.

Default value: `'3 30'`

##### `window_size`

Data type: `Any`

Optionally, set window size

Default value: `'17'`

##### `disallow_reuse`

Data type: `Any`

Optionally, set disallow reuse

Default value: ``true``

##### `scratch_codes`

Data type: `Any`

Specify scratch codes.

Default value: `[]`

### `googleauthenticator::user::systemwide`

Setup Google-authenticator two-step verification for a user, systemwide.

#### Examples

##### Setup systemwide Google authenticator for the 'root' user

```puppet
googleauthenticator::user::systemwide {'root':
  secret_key    => 'C6SSDFBBH6P76EDM',
  scratch_codes => ['78905638', '14036415', '77983530',
                    '22071921', '19861182'],
}
```

#### Parameters

The following parameters are available in the `googleauthenticator::user::systemwide` defined type.

##### `name`

The name of the user

##### `secret_key`

Data type: `Any`

The secret key for the TOTP verification.

##### `ensure`

Data type: `Any`

present/absent

Default value: `'present'`

##### `user`

Data type: `Any`

Optionally, force the user name. Otherwise, $name is used.

Default value: ``undef``

##### `rate_limit`

Data type: `Any`

Optionally, set rate limit.

Default value: `'3 30'`

##### `window_size`

Data type: `Any`

Optionally, set window size

Default value: `'17'`

##### `disallow_reuse`

Data type: `Any`

Optionally, set disallow reuse

Default value: ``true``

##### `scratch_codes`

Data type: `Any`

Specify scratch codes.

Default value: `[]`

